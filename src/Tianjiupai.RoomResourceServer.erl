-module('Tianjiupai.RoomResourceServer').
-export(['start_link'/0, 'as_pid'/1, 'add'/3, 'get_number_of_rooms'/0]).
'start_link'() -> 'Tianjiupai.RoomResourceServer.Impl':'start_link_name'(ok, {'global', ok}).
'as_pid'(S2280Proc) -> 'Tianjiupai.RoomResourceServer.Impl':'as_pid'(S2280Proc).
'add'(S2282UserId, S2283RoomId, S2284RoomName) -> begin S2285ProcRes = 'Tianjiupai.RoomResourceServer.Impl':'where_is_global'(ok), case S2285ProcRes of {'ok', S2286Proc} -> begin S2287CallRes = 'Tianjiupai.RoomResourceServer.Impl':'call'(S2286Proc, {'add_room', S2282UserId, S2283RoomId, S2284RoomName}), case S2287CallRes of {'ok', {'room_added', S2288Res}} -> sesterl_internal_prim:'return'(S2288Res); {'error', S2289Err} -> sesterl_internal_prim:'return'({'error', S2289Err}) end end; 'error' -> sesterl_internal_prim:'return'({'error', 'SesterlStdlib.RawValue':'forget'(<<"no room resource server"/utf8>>)}) end end.
'get_number_of_rooms'() -> begin S2291ProcRes = 'Tianjiupai.RoomResourceServer.Impl':'where_is_global'(ok), case S2291ProcRes of {'ok', S2292Proc} -> begin S2293CallRes = 'Tianjiupai.RoomResourceServer.Impl':'call'(S2292Proc, 'get_num_rooms'), case S2293CallRes of {'ok', {'num_rooms_got', S2294N}} -> sesterl_internal_prim:'return'({'ok', S2294N}); {'error', S2295Err} -> sesterl_internal_prim:'return'({'error', S2295Err}) end end; 'error' -> sesterl_internal_prim:'return'({'error', 'SesterlStdlib.RawValue':'forget'(<<"no room resource server"/utf8>>)}) end end.
